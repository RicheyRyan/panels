{"version":3,"file":"generated.js","sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","/Users/craverod/opensource/panels/panels/animate/index.es6","/Users/craverod/opensource/panels/panels/animate/utils/index.es6","/Users/craverod/opensource/panels/panels/animate/utils/map-tree.es6","/Users/craverod/opensource/panels/panels/animate/utils/no-speed.es6","/Users/craverod/opensource/panels/panels/animate/utils/stepper.es6","/Users/craverod/opensource/panels/panels/animate/utils/update-curr-v.es6","/Users/craverod/opensource/panels/panels/animate/utils/update-curr-vals.es6","/Users/craverod/opensource/panels/panels/animate/utils/zero.es6","/Users/craverod/opensource/panels/panels/apps/actions.es6","/Users/craverod/opensource/panels/panels/apps/app-shape.es6","/Users/craverod/opensource/panels/panels/apps/component.es6","/Users/craverod/opensource/panels/panels/apps/load-script.es6","/Users/craverod/opensource/panels/panels/apps/load-style.es6","/Users/craverod/opensource/panels/panels/apps/loader.es6","/Users/craverod/opensource/panels/panels/apps/reducer.es6","/Users/craverod/opensource/panels/panels/configure-store.es6","/Users/craverod/opensource/panels/panels/index.es6","/Users/craverod/opensource/panels/panels/panels/actions.es6","/Users/craverod/opensource/panels/panels/panels/component.es6","/Users/craverod/opensource/panels/panels/panels/get-focus-panel.es6","/Users/craverod/opensource/panels/panels/panels/get-panel-from-app.es6","/Users/craverod/opensource/panels/panels/panels/match.es6","/Users/craverod/opensource/panels/panels/panels/panel-shape.es6","/Users/craverod/opensource/panels/panels/panels/prepare.es6","/Users/craverod/opensource/panels/panels/panels/reducer.es6","/Users/craverod/opensource/panels/panels/reducers.es6","/Users/craverod/opensource/panels/panels/router/actions.es6","/Users/craverod/opensource/panels/panels/router/component.es6","/Users/craverod/opensource/panels/panels/router/get-panel-path-from-route.es6","/Users/craverod/opensource/panels/panels/router/history.es6","/Users/craverod/opensource/panels/panels/router/parse.es6","/Users/craverod/opensource/panels/panels/router/reducer.es6","/Users/craverod/opensource/panels/panels/router/route-shape.es6","/Users/craverod/opensource/panels/panels/state/unpack.es6","/Users/craverod/opensource/panels/panels/utils/exclude.es6","/Users/craverod/opensource/panels/panels/utils/include.es6","/Users/craverod/opensource/panels/panels/utils/is-requireable.es6"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","animate","_ref","_ref2","currV","currVals","now","endValue","justStarted","currentTime","Date","frameRate","_utils","FRAME_RATE","updateCurrV","updateCurrVals","noSpeed","_noSpeed3","_updateCurrV3","_updateCurrVals3","_mapTree","path","trees","t1","Array","isArray","map","_","concat","val","Object","prototype","toString","newTree","keys","forEach","key","apply","undefined","mapTree","rest","_len","_key","arguments","coll","every","stepper","x","v","destX","k","b","Fspring","Fdamper","newV","newX","Math","abs","errorMargin","_stepper2","config","_mapTree2","_zero2","_k","_b","ret","zero","load","app","type","LOAD","payload","loadAppIfNeeded","route","dispatch","getState","apps","_utilsIsRequireable2","ready","loading","LOADING","panelsProps","dep","initialState","getInitialState","READY","store","configureStore","failed","FAILED","_react","PropTypes","shape","isLoading","bool","isReady","func","mapStateToProps","state","props","byDomain","App","_Component","componentDidMount","this","_actions","render","_props","width","_react2","createElement","style","_panelsComponent2","_appShape2","_routerRouteShape2","isRequired","_panelsUi","widthShape","_reactRedux","connect","loadScript","file","head","fn","err","done","script","onload","onerror","onreadystatechange","clearTimeout","timer","document","getElementsByTagName","readyState","error","setTimeout","src","appendChild","loadStyle","rel","href","appLoader","subscribe","toLoad","_loadScript2","_loadStyle2","console","bind","action","_extends","_extends2","_utilsInclude2","_extends3","_utilsExclude2","_extends4","createStoreWithMiddleware","_reducers2","hot","accept","nextRootReducer","replaceReducer","loggerMiddleware","_reduxLogger2","level","collapsed","_redux","applyMiddleware","_reduxThunk2","createStore","window","__panels__","router","_routerReducer2","_routerActions","navigate","location","_stateUnpack2","_configureStore2","_appsLoader2","_routerHistory2","_reactDom","_routerComponent2","getElementById","panel","_routerGetPanelPathFromRoute2","_getPanelFromApp3","background","_getPanelFromApp","title","loadPanelIfNeeded","thePanel","panels","routeIndex","routes","findIndex","context","_prepare2","routeAfter","Panel","getChildContext","isActive","_this","toUri","Type","types","_appsAppShape2","_panelShape2","oneOfType","focusRoute","getPanelFromApp","_match2","parseParams","params","text","param","replace","RegExp","parseProps","newProps","match","panelMatch","_rlookup2","patterns","lookup","pattern","object","string","prepare","_objectWithoutProperties","combineReducers","_appsReducer2","_panelsReducer2","uri","NAVIGATE","focusPanel","_panelsGetFocusPanel2","focusPanelApp","focusPanelAppState","_panelsPrepare2","UPDATE_PUSH_LEFT_INTERVAL","Router","animationState","rafId","temp","cancelRaf","cancelAnimationFrame","updatePushLeft","findDOMNode","refs","container","scrollLeft","last","offsetLeft","updatePushLeftDebounced","_lodashDebounce2","addEventListener","updateTitle","componentDidUpdate","prevProps","raf","componenWillUnmount","removeEventListener","isLastRaf","_raf3","_this2","_animate2","stop","_animateUtils","containerStyle","image","backgroundImage","size","backgroundSize","color","backgroundColor","ref","onWheel","pushLeft","_appsComponent2","pushRight","getClientRects","_canUseDom2","_panelsPanelShape2","arrayOf","_routeShape2","WebkitBoxOrient","WebkitBoxDirection","WebkitFlexDirection","msFlexDirection","flexDirection","overflowX","overflowY","WebkitOverflowScrolling","getPanelFromRoute","history","navigateHandler","unsubscribe","pushState","trailingSlash","TRAILING_SLASH_REGEX","test","parse","nextUri","parsed","_liteUrl2","protocol","host","pathname","PROTOCOL_REGEX","split","pathBits","slice","join","push","uniquePathBits","Set","sort","bit","contexts","reduce","prev","lastFwdSlash","lastIndexOf","sharesRoot","substr","routerReducer","_parse2","unpackApps","newApps","unpackApp","theApp","unpack","exclude","thing","from","filter","include","list","indexOf","isRequireable","is"],"mappings":"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","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","// TODO Replace with react-motion once its core has settled\nimport { FRAME_RATE, updateCurrV, updateCurrVals } from './utils';\n\nexport default function animate({currV, currVals, now}, {endValue, justStarted}) {\n  endValue = typeof endValue === 'function' ? endValue(currVals) : endValue;\n\n  const currentTime = Date.now();\n  const frameRate = now && !justStarted ? (currentTime - now) / 1000 : FRAME_RATE;\n\n  return {\n    currV: updateCurrV(frameRate, currVals, currV, endValue),\n    currVals: updateCurrVals(frameRate, currVals, currV, endValue),\n    now: currentTime\n  };\n}\n","export const FRAME_RATE = 1 / 60;\nexport noSpeed from './no-speed';\nexport updateCurrV from './update-curr-v';\nexport updateCurrVals from './update-curr-vals';\n","// assume trees same are same\nfunction _mapTree(path, f, trees) {\n  const t1 = trees[0];\n  if (Array.isArray(t1)) {\n    return t1.map((_, i) => _mapTree([...path, i], f, trees.map(val => val[i])));\n  }\n  if (Object.prototype.toString.call(t1) === '[object Object]') {\n    const newTree = {};\n    Object.keys(t1).forEach(key => {\n      newTree[key] = _mapTree([...path, key], f, trees.map(val => val[key]));\n    });\n    return newTree;\n  }\n  return f(path, ...trees);\n}\n\nexport default function mapTree(f, ...rest) {\n  return _mapTree([], f, rest);\n}\n","export default function noSpeed(coll) {\n  if (Array.isArray(coll)) {\n    return coll.every(noSpeed);\n  }\n  if (Object.prototype.toString.call(coll) === '[object Object]') {\n    return Object.keys(coll).every(key => key === 'config' ? true : noSpeed(coll[key]));\n  }\n  return coll === 0;\n}\n","const errorMargin = 0.0001;\n\nexport default function stepper(frameRate, x, v, destX, k, b) {\n  // Spring stiffness, in kg / s^2\n\n  // for animations, destX is really spring length (spring at rest). initial\n  // position is considered as the stretched/compressed position of a spring\n  const Fspring = -k * (x - destX);\n\n  // Damping constant, in kg / s\n  const Fdamper = -b * v;\n\n  // usually we put mass here, but for animation purposes, specifying mass is a\n  // bit redundant. you could simply adjust k and b accordingly\n  // let a = (Fspring + Fdamper) / mass;\n  const a = Fspring + Fdamper;\n\n  const newV = v + a * frameRate;\n  const newX = x + newV * frameRate;\n\n  if (Math.abs(newV - v) < errorMargin && Math.abs(newX - x) < errorMargin) {\n    return [destX, 0];\n  }\n\n  return [newX, newV];\n}\n","/* eslint-disable no-eq-null */\nimport mapTree from './map-tree';\nimport stepper from './stepper';\nimport zero from './zero';\n\n// TODO: comply with no-eq-null :)\nexport default function updateCurrV(frameRate, currVals, currV, endValue, k = 170, b = 26) {\n  if (endValue === null) {\n    return null;\n  }\n  if (typeof endValue === 'number') {\n    return stepper(frameRate, currVals, currV, endValue, k, b)[1];\n  }\n  if (endValue.val != null && endValue.config && endValue.config.length === 0) {\n    return mapTree(zero, currV);\n  }\n  if (endValue.val != null) {\n    const [_k, _b] = endValue.config || [170, 26];\n    return {\n      config: endValue.config,\n      val: updateCurrV(frameRate, currVals.val, currV.val, endValue.val, _k, _b)\n    };\n  }\n  if (Array.isArray(endValue)) {\n    return endValue.map((_, i) => updateCurrV(frameRate, currVals[i], currV[i], endValue[i], k, b));\n  }\n  if (Object.prototype.toString.call(endValue) === '[object Object]') {\n    const ret = {};\n    Object.keys(endValue).forEach(key => {\n      ret[key] = updateCurrV(frameRate, currVals[key], currV[key], endValue[key], k, b);\n    });\n    return ret;\n  }\n  return mapTree(zero, currV);\n}\n","/* eslint-disable no-eq-null */\nimport stepper from './stepper';\n\n// TODO: comply with no-eq-null :)\n// TODO: refactor common logic with updateCurrV\n// TODO: tests\nexport default function updateCurrVals(frameRate, currVals, currV, endValue, k = 170, b = 26) {\n  if (endValue === null) {\n    return null;\n  }\n  if (typeof endValue === 'number') {\n    // TODO: do something to stepper to make this not allocate (2 steppers?)\n    return stepper(frameRate, currVals, currV, endValue, k, b)[0];\n  }\n  if (endValue.val != null && endValue.config && endValue.config.length === 0) {\n    return endValue;\n  }\n  if (endValue.val != null) {\n    const [_k, _b] = endValue.config || [170, 26];\n    return {\n      config: endValue.config,\n      val: updateCurrVals(frameRate, currVals.val, currV.val, endValue.val, _k, _b)\n    };\n  }\n  if (Array.isArray(endValue)) {\n    return endValue.map((_, i) => updateCurrVals(frameRate, currVals[i], currV[i], endValue[i], k, b));\n  }\n  if (Object.prototype.toString.call(endValue) === '[object Object]') {\n    const ret = {};\n    Object.keys(endValue).forEach(key => {\n      ret[key] = updateCurrVals(frameRate, currVals[key], currV[key], endValue[key], k, b);\n    });\n    return ret;\n  }\n  return endValue;\n}\n","export default function zero() {\n  return 0;\n}\n","import isRequireable from '../utils/is-requireable';\n\nexport const LOAD = 'APPS:LOAD';\n/**\n *  Load an app\n *\n *  @param app String the app's domain\n */\nexport function load(app) {\n  return {\n    type: LOAD,\n    payload: {\n      app\n    }\n  };\n}\n\n/**\n *  Load apps on demand\n *\n *  @param app String the app's domain\n */\nexport function loadAppIfNeeded(route) {\n  return function loadAppIfNeededThunk(dispatch, getState) {\n    // TODO implement smarter app loading, not a big deal until we implement sliced routes\n    if (route.path !== '/') {\n      return;\n    }\n\n    const app = getState().apps[route.app];\n\n    if (typeof app === 'undefined') {\n      dispatch(isRequireable(route.app) ? ready(route.app) : load(route.app));\n    }\n  };\n}\n\nexport const LOADING = 'APPS:LOADING';\n/**\n *  Indicate that an app is loading\n *\n *  @param app String the app's domain\n */\nexport function loading(app) {\n  return {\n    type: LOADING,\n    payload: {\n      app\n    }\n  };\n}\n\nexport const READY = 'APPS:READY';\n/**\n *  Indicate that an app is ready to be used\n *\n *  @param app String the app's domain\n */\nexport function ready(app, panelsProps) {\n  const dep = require(app);\n  const initialState = dep.getInitialState(panelsProps);\n\n  return {\n    type: READY,\n    payload: {\n      app,\n      store: dep.configureStore(initialState)\n    }\n  };\n}\n\nexport const FAILED = 'APPS:FAILED';\n/**\n *  Indicate that an app failed to load\n *\n *  @param app String the app's domain\n */\nexport function failed(app) {\n  return {\n    type: FAILED,\n    payload: {\n      app\n    }\n  };\n}\n","import { PropTypes } from 'react';\n\nexport default PropTypes.shape({\n  isLoading: PropTypes.bool,\n  isReady: PropTypes.bool,\n  store: PropTypes.shape({\n    dispatch: PropTypes.func,\n    getState: PropTypes.func\n  })\n})\n","import { connect } from 'react-redux';\nimport { loadAppIfNeeded } from './actions';\nimport { widthShape } from 'panels-ui';\nimport appShape from './app-shape';\nimport Panel from '../panels/component';\nimport React, { Component, PropTypes } from 'react';\nimport routeShape from '../router/route-shape';\n\nclass App extends Component {\n  componentDidMount() {\n    this.props.dispatch(loadAppIfNeeded(this.props.route));\n  }\n\n  render() {\n    const { app, route, width } = this.props;\n\n    if (typeof app === 'undefined' || app.isLoading) {\n      return <div style={{width}}>loading app {route.app}...</div>;\n    } else if (app.isReady) {\n      return <Panel app={app} route={route} width={width} />;\n    } else {\n      return <div style={{width}}>app {route.app} failed to load or doesn't exist</div>;\n    }\n  }\n\n  static propTypes = {\n    app: appShape,\n    route: routeShape.isRequired,\n    width: widthShape.isRequired\n  }\n}\n\nfunction mapStateToProps(state, props) {\n  return {\n    app: state.apps.byDomain[props.route.app]\n  };\n}\n\nexport default connect(mapStateToProps)(App);\n","// Original source [partition-bundle](https://github.com/arian/partition-bundle/blob/master/lib/loadScript.js)\nexport default function loadScript(file, head, fn) {\n  if (typeof head === 'function') {\n    fn = head;\n    head = document.getElementsByTagName('head')[0];\n  }\n\n  let script = document.createElement('script');\n  let done = false;\n  let timer;\n\n  function ready(err) {\n    done = true;\n    script.onload = script.onerror = script.onreadystatechange = null;\n    clearTimeout(timer);\n    fn(err);\n  }\n\n  script.onload = script.onreadystatechange = function(e) {\n    if (!done && (!this.readyState || this.readyState == 'complete' || this.readyState == 'loaded')) {\n      ready(null);\n    }\n  };\n\n  script.onerror = function(error) {\n    if (!done) {\n      ready(error || new Error('Could not load file'));\n    }\n  };\n\n  timer = setTimeout(function() {\n    ready(new Error('Script loading timed-out'));\n  }, 3e4);\n\n  script.src = file;\n  head.appendChild(script);\n}\n","export default function loadStyle(file, head, fn) {\n  if (typeof head === 'function') {\n    fn = head;\n    head = document.getElementsByTagName('head')[0];\n  }\n\n  let style = document.createElement('style');\n  style.rel = 'stylesheet';\n  style.type = 'text/css';\n  let done = false;\n  let timer;\n\n  function ready(err) {\n    done = true;\n    style.onload = style.onerror = style.onreadystatechange = null;\n    clearTimeout(timer);\n    fn(err);\n  }\n\n  style.onload = style.onreadystatechange = function(e) {\n    if (!done && (!this.readyState || this.readyState == 'complete' || this.readyState == 'loaded')) {\n      ready(null);\n    }\n  };\n\n  style.onerror = function(error) {\n    if (!done) {\n      ready(error || new Error('Could not load file'));\n    }\n  };\n\n  timer = setTimeout(function() {\n    ready(new Error('style loading timed-out'));\n  }, 3e4);\n\n  style.href = file;\n  head.appendChild(style);\n}\n","import { failed, loading, ready } from './actions';\nimport loadScript from './load-script';\nimport loadStyle from './load-style';\n\nexport default function appLoader(store) {\n  return store.subscribe(function appLoaderStoreListener() {\n    const { toLoad } = store.getState().apps;\n\n    if (toLoad.length) {\n      const app = toLoad[0];\n\n      store.dispatch(loading(app));\n\n      loadScript(`//${app}/${app}.js`, err => store.dispatch(err ? failed(app) : ready(app)));\n      loadStyle(`//${app}/${app}.css`, ::console.error);\n    }\n  });\n}\n","import { FAILED, LOAD, LOADING, READY } from './actions';\nimport exclude from '../utils/exclude';\nimport include from '../utils/include';\n\nexport default function apps(state = {byDomain: {}, toLoad: []}, action) {\n  const app = action.payload && action.payload.app;\n\n  switch (action.type) {\n    case FAILED:\n      return {\n        ...state,\n        byDomain: {\n          ...state.byDomain,\n          [app]: {\n            isLoading: false,\n            isReady: false,\n            store: {}\n          }\n        }\n      };\n\n    case LOAD:\n      return {\n        ...state,\n        toLoad: include(app, state.toLoad)\n      };\n\n    case LOADING:\n      return {\n        byDomain: {\n          ...state.byDomain,\n          [action.payload.app]: {\n            isLoading: true,\n            isReady: false,\n            store: {}\n          }\n        },\n        toLoad: exclude(app, state.toLoad)\n      };\n\n    case READY:\n      return {\n        ...state,\n        byDomain: {\n          ...state.byDomain,\n          [action.payload.app]: {\n            isLoading: false,\n            isReady: true,\n            store: action.payload.store\n          }\n        }\n      };\n\n    default: return state;\n  }\n}\n","import { applyMiddleware, createStore } from 'redux';\nimport createLogger from 'redux-logger';\nimport thunkMiddleware from 'redux-thunk';\nimport rootReducer from './reducers';\n\nconst loggerMiddleware = createLogger({\n  level: 'info',\n  collapsed: true\n});\n\nconst createStoreWithMiddleware = applyMiddleware(\n  thunkMiddleware,\n  loggerMiddleware\n)(createStore);\n\nexport default function configureStore(initialState) {\n  const store = createStoreWithMiddleware(rootReducer, initialState);\n\n  if (module.hot) {\n    // Enable hot module replacement for reducers\n    module.hot.accept('./reducers', function() {\n      const nextRootReducer = require('./reducers');\n      store.replaceReducer(nextRootReducer);\n    });\n  }\n\n  return store;\n}\n","import { navigate } from './router/actions';\nimport { render } from 'react-dom';\nimport { Provider } from 'react-redux';\nimport appsLoader from './apps/loader';\nimport configureStore from './configure-store';\nimport history from './router/history';\nimport React from 'react';\nimport Router from './router/component';\nimport routerReducer from './router/reducer';\nimport unpack from './state/unpack';\n\nconst initialState = typeof window.__panels__ === 'undefined' ?\n  {router: routerReducer({}, navigate(location.href))} :\n  unpack(window.__panels__);\n\nconst store = configureStore(initialState);\n\nappsLoader(store);\nhistory(store);\n\nrender(\n  <Provider store={store}>\n    <Router />\n  </Provider>,\n  document.getElementById('root')\n);\n","import getPanelFromApp from './get-panel-from-app';\nimport getPanelPathFromRoute from '../router/get-panel-path-from-route';\n\nexport const LOAD = 'PANELS:LOAD';\nexport function load(route) {\n  const panel = getPanelPathFromRoute(route);\n  const { background, props, title, type } = getPanelFromApp(route);\n\n  return {\n    type: LOAD,\n    payload: {\n      background,\n      panel,\n      props,\n      title,\n      type\n    }\n  };\n}\n/**\n *  Load apps on demand\n *\n *  @param app String the app's domain\n */\nexport function loadPanelIfNeeded(route) {\n  return function loadPanelIfNeededThunk(dispatch, getState) {\n    const panel = getPanelPathFromRoute(route);\n    const thePanel = getState().panels[panel];\n\n    if (typeof thePanel === 'undefined') {\n      dispatch(load(route));\n    }\n  };\n}\n","import { connect } from 'react-redux';\nimport { loadPanelIfNeeded } from './actions';\nimport { navigate } from '../router/actions';\nimport { Provider } from 'react-redux';\nimport appShape from '../apps/app-shape';\nimport getPanelPathFromRoute from '../router/get-panel-path-from-route';\nimport panelShape from './panel-shape';\nimport prepare from './prepare';\nimport React, { Component, PropTypes } from 'react';\nimport routeShape from '../router/route-shape';\n\nclass Panel extends Component {\n  componentDidMount() {\n    this.props.dispatch(loadPanelIfNeeded(this.props.route));\n  }\n\n  getChildContext() {\n    return {\n      isActive: path => this.props.routeAfter && `${this.props.route.context}${path}` === this.props.routeAfter.context,\n      navigate: toUri => this.props.dispatch(navigate(`${this.props.route.context}${toUri}`)),\n      route: this.props.route\n    };\n  }\n\n  render() {\n    const { app, panel, route, routeAfter, width } = this.props;\n\n    if (typeof panel === 'undefined' || panel.isLoading) {\n      return <div style={{width}}>loading panel {route.app} {route.path}...</div>;\n    } else if (panel.isReady) {\n      const dep = require(route.app);\n      const Type = dep.types[panel.type];\n\n      return (\n        <Provider store={app.store}>\n          <Type {...panel.props} {...this.props} />\n        </Provider>\n      );\n    } else {\n      return <div style={{width}}>panel {route.app} {route.path} failed to load or doesn't exist</div>;\n    }\n  }\n\n  static childContextTypes = {\n    isActive: PropTypes.func.isRequired,\n    navigate: PropTypes.func.isRequired,\n    route: routeShape.isRequired\n  }\n\n  static propTypes = {\n    app: appShape.isRequired,\n    panel: panelShape,\n    route: routeShape.isRequired,\n    routeAfter: PropTypes.oneOfType([PropTypes.bool, routeShape]).isRequired\n  }\n}\n\nfunction mapStateToProps(state, props) {\n  const routeIndex = state.router.routes.findIndex(panel => panel.context === props.route.context);\n  let panel = state.panels[getPanelPathFromRoute(props.route)];\n  // TODO FIXME\n  if (panel && panel.isReady) {\n    panel = prepare(panel, props.app.store.getState)\n  }\n\n  return {\n    panel,\n    routeAfter: state.router.routes[routeIndex + 1] || false\n  };\n}\n\nexport default connect(mapStateToProps)(Panel);\n","import getPanelPathFromRoute from '../router/get-panel-path-from-route';\n\nexport default function(routes, panels) {\n  const focusRoute = routes[routes.length - 1];\n\n  return panels[getPanelPathFromRoute(focusRoute)] || false\n}\n","import match from './match';\n\nexport default function getPanelFromApp(route) {\n  const dep = require(route.app);\n\n  return dep.panels[route.path] || match(route);\n}\n","import RLookup from 'rlookup';\n\nfunction parseParams(params, text='') {\n  Object.keys(params).forEach(param => text = text.replace(new RegExp(`(.*):(${param})(.*)`), `$1${params[param]}$3`));\n  return text;\n}\n\nfunction parseProps(params, props) {\n  let newProps = {};\n  Object.keys(props).forEach(key => newProps[key] = parseParams(params, props[key]));\n  return newProps;\n}\n\nexport default function match(route) {\n  const dep = require(route.app);\n\n  const panelMatch = new RLookup({\n    patterns: dep.lookup\n  }).match(route.path);\n\n  if (typeof panelMatch !== 'undefined') {\n    const panel = dep.panels[panelMatch.pattern];\n\n    return {\n      background: panel.background,\n      props: parseProps(panelMatch.params, panel.props),\n      title: panel.title,\n      type: panel.type\n    };\n  }\n}\n","import { PropTypes } from 'react';\n\nexport default PropTypes.shape({\n  isLoading: PropTypes.bool,\n  isReady: PropTypes.bool,\n  props: PropTypes.object,\n  title: PropTypes.string,\n  Type: PropTypes.func\n});\n","// TODO This should be part of the state as its a value that can be calculated when the panel is\n// being created. It got a bit tricky with the server so I'm leaving it as is for now.\nexport default function prepare(panel, getState) {\n  let { background, title, ...rest } = panel;\n\n  background = typeof background === 'function' ? background(getState, rest.props) : background;\n  title = typeof title === 'function' ? title(getState, rest.props) : title;\n\n  return {\n    ...rest,\n    background,\n    title\n  };\n}\n\n","import { LOAD } from './actions';\n\nexport default function panels(state={}, action) {\n  switch(action.type) {\n    case LOAD:\n      return {\n        ...state,\n        [action.payload.panel]: {\n          background: action.payload.background,\n          isLoading: false,\n          isReady: true,\n          props: action.payload.props,\n          title: action.payload.title,\n          type: action.payload.type\n        }\n      };\n    default: return state;\n  }\n}\n","import { combineReducers } from 'redux';\nimport apps from './apps/reducer';\nimport panels from './panels/reducer';\nimport router from './router/reducer';\n\nexport default combineReducers({\n  apps,\n  panels,\n  router\n});\n","export const NAVIGATE = 'ROUTER:NAVIGATE';\nexport function navigate(uri) {\n  return {\n    type: NAVIGATE,\n    payload: {\n      uri\n    }\n  };\n}\n","import { connect } from 'react-redux';\nimport { findDOMNode } from 'react-dom';\nimport { noSpeed } from '../animate/utils';\nimport { Panels } from 'panels-ui';\nimport animate from '../animate';\nimport App from '../apps/component';\nimport canUseDOM from 'can-use-dom';\nimport debounce from 'lodash.debounce';\nimport getFocusPanel from '../panels/get-focus-panel';\nimport panelShape from '../panels/panel-shape';\nimport prepare from '../panels/prepare';\nimport raf from 'raf';\nimport React, { Component, PropTypes } from 'react';\nimport routeShape from './route-shape';\n\nconst UPDATE_PUSH_LEFT_INTERVAL = 50;\n\nclass Router extends Component {\n  animationState = {\n    endValue: 0,\n    rafId: null,\n    temp: {}\n  };\n\n  cancelRaf() {\n    cancelAnimationFrame(this.animationState.rafId);\n    this.animationState.rafId = null;\n  }\n\n  componentDidMount() {\n    this.updatePushLeft();\n    findDOMNode(this.refs.container).scrollLeft = findDOMNode(this.refs.last).offsetLeft;\n\n    this.updatePushLeftDebounced = debounce(() => this.updatePushLeft(), UPDATE_PUSH_LEFT_INTERVAL);\n    window.addEventListener('resize', this.updatePushLeftDebounced, false);\n    window.addEventListener('orientationchange', this.updatePushLeftDebounced, false);\n\n    this.updateTitle();\n  }\n\n  componentDidUpdate(prevProps) {\n    this.animationState.temp = {\n      currV: 0,\n      currVals: findDOMNode(this.refs.container).scrollLeft,\n      now: null\n    };\n\n    this.updatePushLeft();\n    this.animationState.endValue = findDOMNode(this.refs.last).offsetLeft;\n    this.raf(true, false);\n\n    this.updateTitle();\n  }\n\n  componenWillUnmount() {\n    this.cancelRaf();\n    window.removeEventListener('resize', this.updatePushLeftDebounced);\n    window.removeEventListener('orientationchange', this.updatePushLeftDebounced);\n  }\n\n  raf(justStarted, isLastRaf) {\n    if (justStarted && this.animationState.rafId !== null) {\n      return;\n    }\n    this.animationState.rafId = raf(() => {\n      this.animationState.temp = animate(this.animationState.temp, {endValue: this.animationState.endValue, justStarted});\n\n      findDOMNode(this.refs.container).scrollLeft = this.animationState.temp.currVals;\n\n      const stop = noSpeed(this.animationState.temp.currV);\n      if (stop && !justStarted) {\n        if (isLastRaf) {\n          this.animationState.rafId = null;\n        } else {\n          this.raf(false, true);\n        }\n      } else {\n        this.raf(false, false);\n      }\n    });\n  }\n\n  render() {\n    const { dispatch, focusPanel, routes } = this.props;\n\n    let containerStyle = {...style.container};\n    if (focusPanel && focusPanel.background) {\n      if (focusPanel.background.image) {\n        containerStyle.backgroundImage = `url(${focusPanel.background.image})`;\n\n        if (focusPanel.background.size) {\n          containerStyle.backgroundSize = focusPanel.background.size;\n        }\n      }\n\n      if (focusPanel.background.color) {\n        containerStyle.backgroundColor = focusPanel.background.color;\n      }\n    }\n\n    return (\n      <div style={containerStyle} ref='container' onWheel={::this.cancelRaf}>\n        <div ref='pushLeft' style={style.pushLeft} />\n        <Panels>\n          {routes.map((route, i) => <App key={route.context} dispatch={dispatch} route={route} ref={i === routes.length - 1 && 'last'} />)}\n        </Panels>\n        <div style={style.pushRight} />\n      </div>\n    );\n  }\n\n  updatePushLeft() {\n    findDOMNode(this.refs.pushLeft).style.width =\n      `calc(50vw - ${findDOMNode(this.refs.last).getClientRects()[0].width / 2}px)`;\n  }\n\n  updateTitle() {\n    if (canUseDOM) {\n      document.title = this.props.focusPanel.title;\n    }\n  }\n\n  static defaultProps = {\n    routes: []\n  }\n\n  static propTypes = {\n    focusPanel: PropTypes.oneOfType([PropTypes.bool, panelShape]),\n    routes: PropTypes.arrayOf(routeShape),\n  }\n}\n\nfunction mapStateToProps(state) {\n  const routes = state.router.routes;\n\n  let focusPanel = getFocusPanel(routes, state.panels);\n  // TODO FIXME\n  const focusPanelApp = state.apps.byDomain[routes[routes.length - 1].app];\n  const focusPanelAppState = focusPanelApp && focusPanelApp.isReady && focusPanelApp.store.getState;\n  focusPanel = focusPanelAppState ? prepare(focusPanel, focusPanelAppState) : focusPanel;\n\n  return {\n    focusPanel,\n    routes\n  };\n}\n\nexport default connect(mapStateToProps)(Router);\n\nconst style = {\n  container: {\n    WebkitBoxOrient: 'horizontal',\n    WebkitBoxDirection: 'normal',\n    WebkitFlexDirection: 'row',\n    msFlexDirection: 'row',\n    flexDirection: 'row',\n    overflowX: 'auto',\n    overflowY: 'hidden',\n    WebkitOverflowScrolling: 'touch'\n  },\n  pushLeft: {\n    width: 'calc(50vw - 180px)'\n  },\n  pushRight: {\n    width: '100vw'\n  }\n};\n","export default function getPanelFromRoute(route = {}) {\n  return `${route.app}${route.path}`;\n}\n","import { navigate } from './actions';\n\nexport default function history(store) {\n  const navigateHandler = () => store.dispatch(navigate(location.href));\n\n  window.addEventListener('popstate', navigateHandler);\n\n  const unsubscribe = store.subscribe(() => {\n    const { uri } = store.getState().router;\n\n    if (uri !== location.href) {\n      window.history.pushState(null, null, uri);\n    }\n  });\n\n  return function historyOff() {\n    window.removeEventListener('popstate', navigateHandler);\n    unsubscribe();\n  }\n}\n","import Url from 'lite-url';\n\nconst TRAILING_SLASH_REGEX = /\\/$/;\nconst PROTOCOL_REGEX = /https?:\\/\\//;\n\nfunction trailingSlash(uri) {\n  return TRAILING_SLASH_REGEX.test(uri) ? uri : `${uri}/`;\n}\n\nexport default function parse(uri) {\n  let panels = [];\n  // Make sure we always have a trailing slash on the URI\n  let nextUri = trailingSlash(uri);\n\n  do {\n    const parsed = new Url(nextUri);\n\n    if (parsed && parsed.protocol && parsed.host) {\n      let path = parsed.pathname;\n\n      if (PROTOCOL_REGEX.test(parsed.pathname)) {\n        path = parsed.pathname.split(PROTOCOL_REGEX)[0];\n        nextUri = parsed.pathname.replace(path, '');\n      } else {\n        nextUri = undefined;\n      }\n\n      // Get every path 'bit' which is indeed every panel we need to load\n      let pathBits = [];\n      do {\n        path = path.split('/');\n        path = path.slice(0, path.length - 1).join('/');\n        pathBits.push(path || '/');\n      } while(path.length);\n      const uniquePathBits = new Set(pathBits.sort());\n      // TODO Should we bring the query bit in?\n      uniquePathBits.forEach(bit => panels.push(`${parsed.protocol}//${parsed.host}${bit}`));\n    } else {\n      nextUri = undefined;\n    }\n  } while(nextUri);\n\n  let contexts = [];\n  panels.reduce((prev, panel, i) => {\n    const lastFwdSlash = panel.lastIndexOf('/') + 1;\n    const sharesRoot = new RegExp(`${panel.substr(0, lastFwdSlash)}$`);\n    return contexts[i] = trailingSlash(prev + (sharesRoot.test(prev) ? panel.substr(lastFwdSlash, panel.length) : panel));\n  }, '');\n\n  return panels.map((uri, i) => {\n    const parsed = new Url(uri);\n\n    return {\n      app: parsed.host,\n      context: contexts[i],\n      path: parsed.pathname,\n      uri\n    };\n  });\n}\n","import { NAVIGATE } from './actions';\nimport parse from './parse';\n\nexport default function routerReducer(state={routes: [], uri: undefined}, action) {\n  const uri = action.payload && action.payload.uri;\n\n  switch (action.type) {\n    case NAVIGATE:\n      return {\n        routes: parse(uri),\n        uri\n      };\n    default: return state;\n  }\n}\n","import { PropTypes } from 'react';\n\nexport default PropTypes.shape({\n  app: PropTypes.string.isRequired,\n  context: PropTypes.string.isRequired,\n  path: PropTypes.string.isRequired,\n  uri: PropTypes.string.isRequired\n});\n","function unpackApps(apps) {\n  let newApps = {};\n  Object.keys(apps).forEach(app => newApps[app] = unpackApp(app, apps[app]));\n  return newApps;\n}\n\nfunction unpackApp(app, theApp) {\n  const dep = require(app);\n\n  return {\n    ...theApp,\n    store: dep.configureStore(theApp.store)\n  };\n}\n\nexport default function unpack(state) {\n  return {\n    apps: {\n      byDomain: unpackApps(state.apps.byDomain),\n      toLoad: state.apps.toLoad\n    },\n    panels: state.panels,\n    router: state.router\n  };\n}\n","export default function exclude(thing, from) {\n  return from.filter(a => a !== thing);\n}\n","export default function include(thing, list = []) {\n  return list.indexOf(thing) === -1 ? [...list, thing] : list;\n}\n","export default function isRequireable(dep) {\n  let is = false;\n\n  try {\n    require(dep);\n    is = true;\n  } catch(err) {}\n\n  return is;\n}\n"]}